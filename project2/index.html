<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0 user-scalable=no">
        <meta name="keywords" content="directory, staff finder, staff lookup, staff directory">        
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="libs/bootstrap-5.0.2-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="libs/fontawesome-free-6.1.1-web/css/fontawesome.min.css">
        <link rel="stylesheet" href="libs/fontawesome-free-6.1.1-web/css/fontawesome.css">
        <link rel="stylesheet" href="libs/css/newCompDir.css">
	    <title>Company Directory</title>
    </head>
    <body>  <!--  mx-0 px-0 w-100 -->
        <div class="preloader">
            <img src="libs/img/dirLoader.gif" alt="Loading..."/>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <div class="resultsPg container-fluid" id="mainPg">
            <div class="row headr mainPgHdr">
                <div class="col"><span class="hdrTxt">&#127804;&ensp;Fresh Flowers</span> 
                    <!-- <div class="col-sm-4 col-md-5"></div> ,  &ensp;&#127804; -->
                    <!-- <div class="col"> -->
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="resetList" data-bs-toggle="tooltip" title="Reset List" aria-label="List reset button"><i class="fa-solid fa-rotate-left fa-fw"></i></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="addStaff" data-bs-toggle="tooltip" title="Add Employee" aria-label="Add employee button"><i class="fa-solid fa-user-plus fa-fw"></i></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="mngDepBtn" data-bs-toggle="tooltip" title="Manage departments" aria-label="Manage departments button"><i class="fa-solid fa-building fa-fw"></i></button>              
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="mngLocBtn" data-bs-toggle="tooltip" title="Manage locations" aria-label="Manage locations button"><i class="fa-solid fa-location-dot fa-fw"></i></button>
                </div> 
            </div>
            <div class="row searchRow">
                <div class="col filterDiv">
                    <p>
                        <button class="btn btn-outline-success" type="button" data-bs-toggle="collapse tooltip" title="Filters" data-bs-target=".trio-collapse" aria-expanded="false" aria-controls="depFilter locFilter2 doMainPgFilter" id="filterBtn2"><i class="fa-solid fa-filter fa-fw"></i></button>
                    </p>
                    <div class="row">
                        <div class="col">
                            <div class="collapse trio-collapse" id="locFilter2">
                                <select class="form-select" aria-label="Location list dropdown" id="locFilter2Select" name="locFilter2Select"></select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="collapse trio-collapse" id="depFilter">
                                <select class="form-select" aria-label="Department list dropdown" id="depFilterSelect" name="depFilterSelect"></select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="collapse trio-collapse" id="doMainPgFilter">
                                <button class="btn applyFilterBtn" type="button" id="applyFilterBtn2" aria-label="apply filter button">Apply filter</button>
                            </div>
                        </div>
                    </div>
                </div>   
                <div class="col justify-content-center text-center srchCtrls">                
                    <input class="border border-success px-5" type="text" id="srchBx" name="srchBx">&nbsp;<button class="btn searchBtn" id="srchBtn" type="button" data-bs-toggle="tooltip" title="Click to search" aria-label="srchBtn button"><i class="fa-solid fa-magnifying-glass fa-fw"></i></button>
                </div>
            </div>
            <div class="outputTable border border-success">
                <table class="table table-outline" id="mainTbl">      
                    <tbody id="mainList"></tbody>      
                </table>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <div class="stfProfile container-fluid" id="profile">
            <div class="row headr"> 
                <!-- <div class="col-1 py-1"><button type="button" class="btn backBtn" id="profileBkBtn" aria-label="Back button"><i class="fa-solid fa-angle-left fa-fw"></i></button></div>  -->                            
                <div class="col-12"><button type="button" class="btn btn-outline-success mngBtns" id="prof2mainBtn" data-bs-toggle="tooltip" title="View Employees" aria-label="view employees button"><i class="fa-solid fa-user fa-fw"></i></button>
                <!-- <button type="button" class="btn btn-outline-success hdright mngBtns" id="toDepBtn" data-bs-toggle="tooltip" title="View Departments" aria-label="view departments button"><i class="fa-regular fa-building fa-fw"></i></button>
                <button type="button" class="btn btn-outline-success hdright mngBtns" id="toLocBtn" data-bs-toggle="tooltip" title="View Locations" aria-label="view locations button"><i class="fa-solid fa-location-dot fa-fw"></i></button> -->                
            </div>
            </div>
            <div class="row homePic justify-content-center text-center pt-5">                                 
                <div class="circleBox"></div>
            </div>
            <div class="profileBdy justify-content-center text-center"> 
                <table class="table text-center">
                    <tr><p id="pfnmLst">First name & Last name</p></tr>
                    <tr><p id="pDsg">Designation</p></tr>
                    <tr><p id="pDep">Department</p></tr>
                    <tr><p id="pEmail">Email</p></tr>
                    <tr><p id="pLoc">Location</p></tr>
                </table>
            </div>
            <div class="mngDiv justify-content-center text-center mb-3">
                <button type="button" class="btn editBtn mngBtns pt-0" id="editStfBtn" data-bs-toggle="modal" data-bs-target="#editModal"><i class="fa-solid fa-pen-to-square fa-fw"></i></button>&emsp;<button class="button delBtn mngBtns" id="delStfBtn"><i class="fa-regular fa-trash-can fa-fw"></i></button>                  
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Edit Modal -->
        <div class ="modal fade" id ="editModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" editModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "editModalLabel">Update Employee Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body" id="editMdl">
                        <div class="table-responsive">
                            <table class=" table table-success editFm" id="editTbl">
                                <tbody class="editTblBd">
                                    <tr><td><label for="ufnm">First Name:&emsp;</label><input class="border border-success" type="text" id="ufnm" name="ufnm"></td></tr>
                                    <tr><td><label for="ulnm">Last Name:&emsp;</label><input class="border border-success" type="text" id="ulnm" name="ulnm"></td></tr>
                                    <tr><td><label for="udsgnm">Designation:&emsp;</label><input class="border border-success w-50" type="text" id="udsgnm" name="udsgnm"></td></tr>
                                    <tr><td><label for="ueml">Email:&emsp;</label><input class="border border-success w-50" type="text" id="ueml" name="ueml"></td></tr>
                                    <!-- <tr><td><label for="udip">Department ID:&emsp;</label><input class="border border-success" type="text" aria-label="Department id" id="udip" name="udip"></td></tr> -->
                                    <tr><td><label for="udip">Department ID:&emsp;</label><input class="border border-secondary bg-transparent text-dark w-50" type="text" aria-label="Department name read-only" id="udip" name="udip" readonly></td></tr>
                                    <tr><td><label for="dipnm">Department Name:&emsp;</label><select class="form-select" aria-label="Department list dropdown" id="dipnm" name="dipnm"></select>
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="updstf">Save</button>
                        <p id="usfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
         <!-- Delete Modal -->
         <div class ="modal fade" id ="deleteModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" deleteModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "deleteModalLabel">Delete Employee</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body" id="deleteMdl">
                        <div class="table-responsive">
                            <table class=" table table-success" id="deleteTbl">
                                <tbody class="deleteTblBd">
                                    <tr><td><h5 class="text-center text-italic"><i class="fa-solid fa-triangle-exclamation fa-fw bg-warning"></i>&emsp;<span id="delSpan"></span></h5></td></tr>
                                    <tr><td class="ansBtns"><button class="btn btn-outline-success ansBtn text-center py-2" type="button" id="delStfYes">Yes</button>&emsp;<button class="btn btn-outline-success ansBtn text-center py-2 px-1" type="button" id="delStfNo" data-bs-dismiss = "modal" aria-label = "Close Modal">No</button></td></tr>                                    
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">                        
                        <p id="dsfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Add Modal -->
        <div class ="modal fade" id ="addModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" addModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "addModalLabel">New Employee Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body" id="editMdl">
                        <div class="table-responsive">
                            <table class=" table table-success addFm">
                                <tbody class="addTblBd">
                                    <tr><td><label for="afnm">First Name:&emsp;</label><input class="border border-success" type="text" id="afnm" name="afnm"></td></tr>
                                    <tr><td><label for="alnm">Last Name:&emsp;</label><input class="border border-success" type="text" id="alnm" name="alnm"></td></tr>
                                    <tr><td><label for="adsgnm">Designation:&emsp;</label><input class="border border-success w-50" type="text" id="adsgnm" name="udsgnm"></td></tr>
                                    <tr><td><label for="aeml">Email:&emsp;</label><input class="border border-success w-50" type="text" id="aeml" name="aeml"></td></tr>                                    
                                    <tr><td><label for="depts">Department Name:&emsp;</label><select class="form-select" aria-label="Department list dropdown" id="depts" name="depts"></select>
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="aStf">Save</button>
                        <p id="asfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->       
        <div class="mngPg container-fluid" id="deptPg">
            <div class="row headr1">
                <!-- <div class="col-1 py-1"><button type="button" class="btn backBtn" id="depBkBtn" aria-label="Back button"><i class="fa-solid fa-angle-left fa-fw"></i></button></div> -->
                <div class="col"><h3 class="hdrTxt">&#127804;&ensp;Fresh Flowers</h3>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="resetDeptList" data-bs-toggle="tooltip" title="Reset List" aria-label="List reset button"><i class="fa-solid fa-rotate-left fa-fw"></i></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="addDept" data-bs-toggle="tooltip" title="Add Department" aria-label="Add department button"><i class="fa-solid fa-building fa-fw"></i><sup><i class="fa-solid fa-plus fa-fw"></i></sup></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="depBkBtn" data-bs-toggle="tooltip" title="View Employees" aria-label="view employees button"><i class="fa-solid fa-user fa-fw"></i></button>              
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="locBtn" data-bs-toggle="tooltip" title="View Locations" aria-label="view locations button"><i class="fa-solid fa-location-dot fa-fw"></i></button>
                </div>   
            </div> 
            <div class="container filterDiv">
                <p>
                    <button class="btn btn-outline-success" type="button" data-bs-toggle="collapse tooltip" title="Filters" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="locFilter1 doDepPgFilter" id="filterBtn"><i class="fa-solid fa-filter fa-fw"></i></button>
                </p>
                <div class="row">
                    <div class="col">
                        <div class="collapse multi-collapse" id="locFilter1">
                            <select class="form-select" aria-label="Location list dropdown" id="locFilter1Select" name="locFilter1Select"></select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="collapse multi-collapse" id="doDepPgFilter">
                            <button class="btn applyFilterBtn" type="button" id="applyFilterBtn1" aria-label="apply filter button">Apply filter</button>
                        </div>
                    </div>
                </div>
            </div>                   
            <div class="outputTable border border-success pl-0">
                <p class="tblCaption">Departments</p>
                <table class="table table-outline table-striped table-responsive" id="deptTbl">      
                    <tbody id="deptList"></tbody>      
                </table>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <div class="mngPg container-fluid" id="locPg">
            <div class="row headr1">
                <!-- <div class="col-1 py-1"><button type="button" class="btn backBtn" id="locBkBtn" aria-label="Back button"><i class="fa-solid fa-angle-left fa-fw"></i></button></div> -->
                <div class="col">
                    <h3 class="hdrTxt">&#127804;&ensp;Fresh Flowers</h3>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="resetLocList" data-bs-toggle="tooltip" title="Reset Location List" aria-label="List reset button"><i class="fa-solid fa-rotate-left fa-fw"></i></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="addLoc" data-bs-toggle="tooltip" title="Add Location" aria-label="Add location button"><i class="fa-solid fa-location-dot fa-fw"></i><sup><i class="fa-solid fa-plus fa-fw"></i></sup></button>
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="viewStfBtn2" data-bs-toggle="tooltip" title="View Employees" aria-label="view employees button"><i class="fa-solid fa-user fa-fw"></i></button>              
                    <button type="button" class="btn btn-outline-success hdright mngBtns" id="deptBtn" data-bs-toggle="tooltip" title="View Departments" aria-label="view departments button"><i class="fa-regular fa-building fa-fw"></i></button>
                </div>   
            </div>        
            <div class="outputTable border border-success">
                <p class="tblCaption">Locations</p>
                <table class="table table-outline table-striped table-responsive" id="locTbl">      
                    <tbody id="locList"></tbody>      
                </table>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Edit Dept Modal -->
        <div class ="modal fade" id ="eDepModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" eDepModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "eDepModalLabel">Update Department Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body" id="eDepMdl">
                        <div class="table-responsive">
                            <table class=" table table-success editFm" id="eDepTbl">
                                <tbody class="eDepTblBd">
                                    <tr><td><label for="depnm">Department:&emsp;</label><input class="border border-success" type="text" id="depnm" name="depnm"></td></tr>                                   
                                    <tr><td><label for="locId">Location ID:&emsp;</label><input class="border border-secondary bg-transparent text-dark w-50" type="text" aria-label="Department id read-only" id="locId" name="locId" readonly></td></tr>
                                    <tr><td><label for="places">Location:&emsp;</label><select class="form-select" aria-label="Location list dropdown" id="places" name="places"></select>
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="updept">Save</button>
                        <p id="udfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Add Dept Modal -->
        <div class ="modal fade" id ="aDepModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" aDepModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "aDepModalLabel">New Department Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body">
                        <div class="table-responsive">
                            <table class=" table table-success addFm">
                                <tbody class="addDepTblBd">
                                    <tr><td><label for="aDep">Department:&emsp;</label><input class="border border-success" type="text" id="aDep" name="aDep" autofocus></td></tr>                                   
                                    <tr><td><label for="aLocID">Location ID:&emsp;</label><input class="border border-secondary bg-transparent text-dark w-50" type="text" aria-label="Department id read-only" id="aLocID" name="aLocID" readonly></td></tr>
                                    <tr><td><label for="addLocSelect">Location:&emsp;</label><select class="form-select" aria-label="Location list dropdown" id="addLocSelect" name="addLocSelect"></select>
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="newDep">Save</button>
                        <p id="adfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Edit Location Modal -->
        <div class ="modal fade" id ="eLocModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" eLocModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "eLocModalLabel">Update Location Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body" id="eLocMdl">
                        <div class="table-responsive">
                            <table class=" table table-success editFm" id="eLocTbl">
                                <tbody class="eLocTblBd">
                                    <tr><td><label for="locnm">Location:&emsp;</label><input class="border border-success" type="text" id="locnm" name="locnm" focusable="true" autofocus></td></tr>   
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="upLoc">Save</button>
                        <p id="ulfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- Add Location Modal -->
        <div class ="modal fade" id ="aLocModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" aLocModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "aLocModalLabel">New Location Details</h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body">
                        <div class="table-responsive">
                            <table class=" table table-success">
                                <tbody class="addLocTblBd">
                                    <tr><td><label for="aLoc">Location:&emsp;</label><input class="border border-success" type="text" id="aLoc" name="aLoc" focusable="true" autofocus="true"></td></tr> 
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <button class="btn btn-outline-success saveBtn text-center py-2 px-2" type="button" id="saveLoc">Save</button>
                        <p id="alfeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        <!-- hasDepend Modal -->
        <div class ="modal fade" id ="hasDependModal" data-bs-backdrop="static" keyboard="false" tabindex ="-1" role ="dialog" aria-labelledby =" hasDependModalLabel" aria-hidden ="true">
            <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class = "modal-content">        
                    <div class = "modal-header">
                        <h5 class = "modal-title" id = "hasDependModalLabel">Dependency Warning&ensp;<i class="fa-solid fa-triangle-exclamation fa-fw bg-warning"></i></h5>
                        <button type = "button" class ="btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
                    </div>
                    
                    <div class = "modal-body">
                        <div class="table-responsive">
                            <table class=" table table-success">
                                <tbody class="mngDepend text-center">
                                    <tr><td><p id="line1">Departments exist under this location</p></td></tr>
                                    <tr><td><p id="line2"><strong>Move</strong> to new location &ensp;OR&ensp; <strong>Go Back</strong> to edit new locations separately</p></td></tr>                                   
                                    <tr><td><button class="btn btn-outline-success ansBtn text-center py-2" type="button" id="moveBtn">Move</button>&emsp;<button class="btn btn-outline-success ansBtn text-center py-2" type="button" id="goBkBtn">Go Back</button>
                                    <tr><td><select class="form-select" aria-label="Location list dropdown" id="newOtherSelect" name="newOtherSelect"></select></td></tr>
                                    <tr><td><button class="btn btn-outline-success ansBtn text-center py-2" type="button" id="setNew">Set new location</button></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>                    
                    <div class = "modal-footer">
                        <p id="newOtherFeedbk"></p>
                    </div> 
                </div>
            </div>
        </div>
        <!-- ********************************************************************************************************************************************************** -->
        
        <script src="libs/fontawesome-free-6.1.1-web/js/fontawesome.js"></script>
        <script src="libs/fontawesome-free-6.1.1-web/js/fontawesome.min.js"></script>        
        <script src="libs/fontawesome-free-6.1.1-web/js/all.min.js"></script>
        <script src="libs/js/jquery-3.6.0.min.js" type="application/javascript"></script>
        <script src="libs/js/popper-1.14.3-dist/umd/popper.min.js"></script>
        <script src="libs/bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
        <script src="libs/js/newCompDir.js"></script>
        <!-- <script src="libs/js/setTitles.js"></script> -->
    </body>
</html> 